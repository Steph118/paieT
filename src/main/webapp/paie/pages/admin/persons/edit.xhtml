<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
    xmlns:ui="jakarta.faces.facelets"
    xmlns:f="jakarta.faces.core"
    xmlns:p="http://primefaces.org/ui">
    <ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        template="/paie/templates/layout-edit.xhtml">

        <ui:define name="metadata">
            <f:metadata>
                <f:viewParam name="entityId" value="#{personBean.entityId}"/>
                <f:viewAction action="#{personBean.initEntity()}"/>
            </f:metadata>
        </ui:define>

        <ui:param name="crudBean" value="#{personBean}"/>

        <ui:param name="fieldsTitle" value="#{msg['persons.title']}"/>

        <ui:define name="list-title">
            #{msg['persons.title']}
        </ui:define>
        <ui:define name="breadCrumb">
            #{msg['persons.breadCrumb']}
        </ui:define>
        <ui:define name="fields">
            <p:tabView>
                <p:tab id="personTab" title="#{msg['person.title']}">
                    <ui:include src="fields-persons.xhtml"/>
                </p:tab>
                <p:tab id="memberTab" title="#{msg['member']}" rendered="#{!personBean.updating}">
                    <ui:include src="fields-members.xhtml"/>
                </p:tab>
                <p:tab id="userTab" title="#{msg['user.title']}" rendered="#{!personBean.updating}">
                    <ui:include src="fields-users.xhtml"/>
                </p:tab>
            </p:tabView>
        </ui:define>

    </ui:composition>
</html>

